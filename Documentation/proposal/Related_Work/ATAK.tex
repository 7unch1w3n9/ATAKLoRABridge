\subsection{ATAK}
The integration path of Meshtastic as a plugin within the Android Team Awareness Kit (ATAK) demonstrates the feasibility of embedding infrastructure-independent communication modules into a robust situational awareness platform. Among various platforms, ATAK stands out as an ideal integration target due to its highly modular architecture, real-world validated stability, and extensive support for plugins. Originally developed by the United States Department of Defense to fulfill military tactical requirements, the platform has subsequently garnered increasing popularity within civilian sectors. Its widespread deployment across military units, special police forces, search and rescue teams, and emergency management agencies in the United States exemplifies its utility. Similarly, in Germany, professionals in police emergency response and disaster control have praised the application for its comprehensive set of functionalities.

To accommodate the complex and dynamic demands of tactical communication, ATAK's architectural design incorporates a highly modular approach, supporting the rapid integration of multi-source information and communication interfaces through its plugin mechanism.  Its user interface is centered around a map-based design, supporting the integration of multiple online map sources through the MOBAC\footnote{Mobile Atlas Creator} format. The platform also offers offline caching capabilities, allowing users to access high-resolution geospatial data even in disconnected environments. The overlay feature enables the display of static images—such as heat maps or scanned paper maps—directly on top of the digital map view, further enhancing tactical planning and situational awareness. In addition, ATAK provides a comprehensive set of annotation and collaboration tools: users can place standardized icons, draw, and annotate on the map, and share these markings in real time via team-wide broadcast mechanisms. The inherent adaptability of the platform's communication layer allows it to flexibly accommodate heterogeneous physical networks, including LTE, Wi-Fi, MANETs, and satellite links. The establishment of communication paths can dynamically switch among UDP broadcast, TCP unicast, and XMPP-based centralized message distribution. Furthermore, the stability and latency characteristics of network transmission are determined by the plugin at runtime, based on the current link status. In extreme conditions lacking a central router or trusted node, ATAK's built-in GeoChat client module utilizes a UDP multicast mechanism to establish a logical broadcast domain, facilitating local information synchronization through peer-to-peer methods.

All data is ultimately encapsulated within the Cursor-on-Target (CoT) protocol, a lightweight XML-based structure developed by MITRE. This protocol features a clear event model and semantic hierarchy. Each CoT message is composed of an \texttt{<event>} element, which includes fields such as a unique identifier (\texttt{uid}), event type (\texttt{type}), time information (\texttt{start}, \texttt{stale}, \texttt{time}), generation method (\texttt{how}), geographical coordinates (\texttt{<point>}), and extended details (\texttt{<detail>}). The system utilizes the \texttt{\textless detail\textgreater} node to flexibly carry extended data, such as \texttt{\_\_chat} for message bodies, \texttt{chatgrp} for group identifiers, \texttt{link} for associating entity relationships,  and \\\texttt{\_\_serverdestination} for explicitly specifying the message's target address and transmission protocol (e.g., \texttt{IP:PORT:PROTOCOL}). This protocol format is lightweight and semantically clear, supporting various information types including event types, geographical locations, and message content, thereby forming the foundation for inter-plugin collaboration and system compatibility.

\subsubsection{ATAK's Plugin Architecture for Customization}
The plugin mechanism of ATAK is one of its most distinctive architectural features. Plugins exist as independent \texttt{APK} (Android Package Kit) files and do not rely on a whitelist from the main application. Instead, the main application automatically identifies, loads, and registers them at runtime. Plugins extend modular functionality based on predefined TAK APIs, gaining direct access to core functional modules such as map rendering, message distribution, databases, location information, and contact lists.

Typical class structures within this architecture include:

\begin{itemize}
  \item \textbf{PluginLifecycle}: This component functions as the plugin's life cycle manager, analogous to Android's \texttt{Application} class, and is responsible for initialization and configuration hooks.

  \item \textbf{DropDownMapComponent}: This acts as the main controller, registering user interface logic, event listeners, and task scheduling components. It is functionally similar to an Android \texttt{Activity}.

  \item \textbf{DropDownReceiver}: This is primarily responsible for UI display, typically bound to a slide-out panel, and supports loading custom XML layouts.
\end{itemize}

User interface interactions are rendered via \\\texttt{DropDownReceiver.showDropDown()}, supporting responses to button clicks, map interactions, and background listening tasks.

\vspace{0.5em}
Developing ATAK plugins requires Android Studio, with a minimum supported Android version of 5.0 (\texttt{API 21}) or higher. It is recommended to use Java 11, Gradle Plugin version \texttt{4.2.2}, and main project Gradle version \texttt{6.9.1} to ensure compatibility with the existing \texttt{ATAK-CIV} SDK. Plugins must possess a signing key for system validation, and their deployment path should be located within the \texttt{atak-civ/plugins} directory, maintaining consistent directory hierarchy with components such as \texttt{main.jar} and \texttt{atak.apk} within the SDK to ensure automatic loading.

